<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPTV Player - Xtream Codes</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Login Form -->
        <div class="login-card" id="loginCard">
            <h2><i class="fas fa-sign-in-alt"></i> Hyrje në IPTV</h2>
            <div class="form-group">
                <label for="serverUrl"><i class="fas fa-server"></i> Server URL</label>
                <input type="text" id="serverUrl" placeholder="http://server-i-providerit.com" required>
                <small class="form-help">Pa / në fund (p.sh.: http://domain.com)</small>
            </div>
            <div class="form-group">
                <label for="username"><i class="fas fa-user"></i> Username</label>
                <input type="text" id="username" placeholder="Emri i përdoruesit" required>
            </div>
            <div class="form-group">
                <label for="password"><i class="fas fa-lock"></i> Password</label>
                <input type="password" id="password" placeholder="Fjalëkalimi" required>
            </div>
            <button class="btn login-btn" id="loginBtn">
                <i class="fas fa-sign-in-alt"></i> Kyçu
            </button>
            <div class="login-info">
                <p><i class="fas fa-info-circle"></i> Shkruani të dhënat nga provideri juaj IPTV</p>
            </div>
        </div>

        <!-- Main Player Interface (Hidden until login) -->
        <div class="player-interface" id="playerInterface" style="display: none;">
            <!-- Header -->
            <div class="header">
                <div class="channel-info">
                    <i class="fas fa-satellite-dish"></i>
                    <span id="currentCategory">Live TV</span>
                </div>
                <div class="user-info">
                    <span id="loggedUser"></span>
                    <button class="btn-logout" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Categories Sidebar -->
                <div class="sidebar">
                    <h3><i class="fas fa-list"></i> Kategoritë</h3>
                    <div class="categories-list" id="categoriesList">
                        <!-- Categories will be loaded here -->
                        <div class="loading-categories">
                            <i class="fas fa-spinner fa-spin"></i> Duke ngarkuar kategoritë...
                        </div>
                    </div>
                </div>

                <!-- Channels and Player Area -->
                <div class="content-area">
                    <!-- Channels Grid -->
                    <div class="channels-section">
                        <div class="section-header">
                            <h3><i class="fas fa-tv"></i> Kanalet</h3>
                            <div class="search-box">
                                <input type="text" id="searchChannel" placeholder="Kërko kanal...">
                                <i class="fas fa-search"></i>
                            </div>
                        </div>
                        <div class="channels-grid" id="channelsGrid">
                            <!-- Channels will be loaded here -->
                            <div class="loading-channels">
                                <i class="fas fa-spinner fa-spin"></i> Zgjidhni një kategori për të parë kanalet
                            </div>
                        </div>
                    </div>

                    <!-- Video Player -->
                    <div class="player-section">
                        <div class="player-header">
                            <h3><i class="fas fa-play-circle"></i> Player</h3>
                            <div class="player-status" id="playerStatus">
                                <span class="status-ready"><i class="fas fa-check-circle"></i> Gati</span>
                            </div>
                        </div>
                        <div class="video-container">
                            <video id="videoPlayer" controls>
                                <source src="" type="video/mpeg">
                                Shfletuesi juaj nuk mbështet elementin video.
                            </video>
                            <div class="player-placeholder" id="playerPlaceholder">
                                <i class="fas fa-play"></i>
                                <p>Klikoni një kanal për të filluar shikimin</p>
                            </div>
                        </div>
                        <div class="current-channel-info" id="currentChannelInfo">
                            <!-- Channel info will be shown here -->
                        </div>
                        <div class="player-controls">
                            <button class="btn-control" id="playPauseBtn">
                                <i class="fas fa-play"></i> Luaj
                            </button>
                            <button class="btn-control" id="stopBtn">
                                <i class="fas fa-stop"></i> Ndal
                            </button>
                            <button class="btn-control" id="fullscreenBtn">
                                <i class="fas fa-expand"></i> Ekran i plotë
                            </button>
                            <button class="btn-control" id="refreshStreamBtn">
                                <i class="fas fa-sync-alt"></i> Rifresko
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <div class="server-info">
                    <span><i class="fas fa-server"></i> Server: <span id="currentServer"></span></span>
                </div>
                <div class="stats">
                    <span><i class="fas fa-tv"></i> Kanale: <span id="totalChannels">0</span></span>
                    <span><i class="fas fa-folder"></i> Kategori: <span id="totalCategories">0</span></span>
                </div>
                <div class="connection-status">
                    <div class="status-dot" id="connectionStatus"></div>
                    <span>Online</span>
                </div>
            </div>
        </div>

        <!-- Status Message -->
        <div class="status-message" id="statusMessage"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
